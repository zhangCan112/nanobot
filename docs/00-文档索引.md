# nanobot 文档索引

欢迎来到 nanobot 项目文档中心！这里提供了完整的中文文档，帮助你快速理解和使用 nanobot。

## 📚 文档导航

### 核心概念
- [01-项目概述.md](./01-项目概述.md) - **从这里开始** - 项目整体介绍、架构设计和核心特性

### 核心系统
- [04-Agent核心.md](./04-Agent核心.md) - Agent 处理循环和消息处理逻辑
- [05-上下文构建.md](./05-上下文构建.md) - 系统提示词和上下文构建
- [06-记忆系统.md](./06-记忆系统.md) - 长期记忆和日常笔记管理
- [07-工具系统.md](./07-工具系统.md) - 工具架构和内置工具详解

### 配置和操作
- [02-CLI命令系统.md](./02-CLI命令系统.md) - 命令行接口和所有命令详解
- [03-配置系统.md](./03-配置系统.md) - 配置文件结构和参数说明

### 渠道系统
- [08-渠道系统.md](./08-渠道系统.md) - 多渠道集成（Telegram、WhatsApp、Discord、Feishu）

### LLM 提供商
- [09-LLM提供商.md](./09-LLM提供商.md) - LiteLLM 多提供商支持

### 辅助服务
- [10-定时任务.md](./10-定时任务.md) - Cron 服务和任务调度
- [11-会话管理.md](./11-会话管理.md) - 会话存储和管理
- [12-消息总线.md](./12-消息总线.md) - 异步消息队列

### 技能系统
- [13-技能系统.md](./13-技能系统.md) - 技能加载和自定义

### 子代理
- [14-子代理系统.md](./14-子代理系统.md) - 并行任务处理

### Bridge 服务
- [15-WhatsApp桥接.md](./15-WhatsApp桥接.md) - TypeScript 桥接服务

## 🚀 快速开始

### 1. 安装和初始化
```bash
# 安装
pip install nanobot-ai

# 初始化
nanobot onboard

# 编辑配置
vim ~/.nanobot/config.json
```

### 2. 配置 API Key
在 `~/.nanobot/config.json` 中添加：
```json
{
  "providers": {
    "openrouter": {
      "apiKey": "sk-or-v1-xxxxxxxxxxxx"
    }
  },
  "agents": {
    "defaults": {
      "model": "anthropic/claude-sonnet-4-5"
    }
  }
}
```

### 3. 测试运行
```bash
# 单次消息
nanobot agent -m "Hello!"

# 交互式模式
nanobot agent

# 启动网关
nanobot gateway
```

## 📖 学习路径

### 初学者
1. 阅读 [项目概述](./01-项目概述.md) 了解整体架构
2. 阅读 [配置系统](./03-配置系统.md) 学习如何配置
3. 使用 CLI 命令（参考 [CLI命令系统](./02-CLI命令系统.md)）
4. 在交互模式中测试功能

### 进阶用户
1. 理解 [Agent核心](./04-Agent核心.md) 工作原理
2. 学习 [工具系统](./07-工具系统.md) 扩展能力
3. 配置 [渠道系统](./08-渠道系统.md) 连接多个平台
4. 使用 [定时任务](./10-定时任务.md) 自动化工作

### 开发者
1. 研究代码架构和设计模式
2. 学习 [LLM提供商](./09-LLM提供商.md) 集成
3. 创建 [自定义工具](./07-工具系统.md#自定义工具)
4. 开发 [自定义技能](./13-技能系统.md)

## 🎯 常用功能

### 文件操作
```python
# Agent 会自动调用这些工具
read_file(path="README.md")
write_file(path="hello.py", content="print('Hello')")
edit_file(path="README.md", old_text="old", new_text="new")
list_dir(path=".")
```

### Shell 命令
```python
# 执行命令
exec(command="ls -la")
exec(command="python script.py", working_dir="~/projects")
```

### Web 操作
```python
# 搜索
web_search(query="Python async tutorial")

# 获取网页
web_fetch(url="https://example.com")
```

### 消息发送
```python
# 发送到渠道
message(
    channel="telegram",
    chat_id="123456",
    content="Hello from AI!"
)
```

### 定时任务
```python
# 添加任务
cron(
    action="add",
    message="Daily check",
    cron_expr="0 9 * * *"
)

# 列出任务
cron(action="list")

# 删除任务
cron(action="remove", job_id="001")
```

### 子代理
```python
# 生成子代理
spawn(
    task="Research Python best practices",
    label="research"
)
```

## 🔐 安全建议

### 1. 工作空间限制
```json
{
  "tools": {
    "restrictToWorkspace": true
  }
}
```
- 启用后限制文件和 Shell 操作到工作空间
- 防止访问系统敏感文件

### 2. 用户白名单
```json
{
  "channels": {
    "telegram": {
      "allowFrom": ["user_id1", "user_id2"]
    }
  }
}
```
- 只允许指定用户与 AI 交互

### 3. 环境变量
```bash
# 使用环境变量存储敏感信息
export NANOBOT_PROVIDERS__OPENROUTER__API_KEY="sk-or-xxx"
```

## 🌟 最佳实践

### 1. 提示词优化
- 保持 AGENTS.md 简洁
- 只在 MEMORY.md 存储重要信息
- 使用今日笔记记录临时信息

### 2. 工具使用
- 优先使用工具而非硬编码
- 解释工具执行前做什么
- 验证工具结果

### 3. 会话管理
- 不同任务使用不同会话
- 定期清理旧会话
- 利用上下文连贯性

### 4. 性能优化
- 合理设置 max_iterations
- 使用更快的模型（如 Groq）处理简单任务
- 限制历史记录长度

## 🤝 贡献指南

### 代码结构
```
nanobot/
├── agent/          # 核心 Agent 逻辑
├── channels/       # 渠道集成
├── providers/      # LLM 提供商
├── tools/          # 工具实现
├── config/         # 配置管理
└── cli/            # 命令行接口
```

### 开发流程
1. Fork 项目
2. 创建功能分支
3. 编写代码和测试
4. 提交 Pull Request

### 代码风格
- 遵循 PEP 8
- 使用类型注解
- 添加文档字符串
- 编写单元测试

## 📞 获取帮助

### 文档
- GitHub: https://github.com/HKUDS/nanobot
- README: 项目根目录的 README.md

### 社区
- Issues: 提交问题到 GitHub Issues
- Discussions: 参与社区讨论

### 示例代码
- workspace/: 工作空间示例
- nanobot/skills/: 内置技能示例

## 📊 系统要求

### Python
- Python 3.10+
- asyncio 支持

### 依赖
- litellm: LLM 提供商抽象
- pydantic: 配置和验证
- loguru: 日志记录
- python-dotenv: 环境变量

### 可选依赖
- telethon: Telegram 支持
- discord.py: Discord 支持
- requests: HTTP 请求

## 🔗 相关资源

### AI Agent 框架
- LangChain: https://langchain.com
- AutoGen: https://microsoft.github.io/autogen
- CrewAI: https://crewai.com

### LLM 提供商
- Anthropic: https://anthropic.com
- OpenAI: https://platform.openai.com
- OpenRouter: https://openrouter.ai
- DeepSeek: https://platform.deepseek.com

### 工具和库
- LiteLLM: https://github.com/BerriAI/litellm
- Pydantic: https://pydantic.dev
- Rich: https://rich.readthedocs.io

## 📝 文档更新

### 最新版本
- 版本: 0.1.3
- 更新日期: 2026-02-08
- 变更日志: 查看 CHANGELOG.md

### 贡献者
感谢所有贡献者！查看 CONTRIBUTING.md 了解如何参与。

---

**开始探索 nanobot 的世界吧！** 🐈✨